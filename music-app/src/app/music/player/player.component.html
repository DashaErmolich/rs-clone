<div class="flex-row tmp">
  <mat-card *ngFor="let track of tracks, index as i" class="card">
    <mat-card-content>{{track.title}}</mat-card-content>
    <mat-card-content>{{track.artist?.name}}</mat-card-content>
    <mat-card-content>{{track.album?.title}}</mat-card-content>
    <img mat-card-image class="card-img" src={{track.album?.cover}} alt={{track.title}} (click)="playTrack(track.preview); setTrackIndex(i)">
  </mat-card>
</div>
<div class="player-container player container flex-row accent-section">
  <div class="player__items-group flex-column-3">
    <div class="track-data">
      <div *ngIf="currentTrackIndex !== null" class="track-data__image">
        <img
        [src]="getTrackAlbumImageSrc()"
        [alt]="getTrackTitle() | titlecase"
        >
      </div>
      <div *ngIf="currentTrackIndex === null" class="track-data__image">
        <svg class="icon">
          <use xlink:href="../../../assets/icons/sprite.svg#musical-note"></use>
        </svg>
      </div>
      <div class="track-data__titles">
        <span class="one-line-text">{{ getTrackTitle() | titlecase }}</span>
        <span class="one-line-text">{{ getTrackAlbumTitle() | titlecase }}</span>
      </div>
    </div>
    </div>
  <div class="player__items-group flex-column-6">
    <div class="flex-row player-controls">
      <div class="flex-row player-buttons-group">
        <button mat-mini-fab color="basic" (click)="likeTrack()">
          <mat-icon [color]="playerControlsState.isLiked ? 'warn' : 'basic'">favorite</mat-icon>
        </button>
        <button mat-mini-fab color="basic" (click)="shuffleTracks()">
          <mat-icon>shuffle</mat-icon>
        </button>
      </div>
      <div class="flex-row player-buttons-group">
        <button mat-fab color="basic" (click)="prev()" [disabled]="playerControlsState.isFirstTrack">
          <mat-icon>skip_previous</mat-icon>
        </button>
        <button mat-fab color="primary" (click)="playPause()">
          <mat-spinner
            mode="indeterminate"
            class="player-spinner-container"
            color="accent"
            *ngIf="!playerControlsState.isTrackReady && currentTrackIndex !== null"
          ></mat-spinner>
          <mat-icon
            *ngIf="playerControlsState.isTrackReady || currentTrackIndex === null"
          >{{ !playerControlsState.isPlay ? 'play_arrow' : 'pause' }}</mat-icon>
        </button>
        <button mat-fab color="basic" (click)="next()" [disabled]="playerControlsState.isLastTrack">
          <mat-icon>skip_next</mat-icon>
        </button>
      </div>
      <div class="flex-row player-buttons-group">
        <button mat-mini-fab [color]="playerControlsState.isRepeatAllOn ? 'primary' : 'basic'" (click)="toggleRepeat()">
          <mat-icon>repeat</mat-icon>
        </button>
        <button mat-mini-fab [color]="playerControlsState.isRepeatOneOn ? 'primary' : 'basic'" (click)="toggleRepeatOne()">
          <mat-icon>repeat_one</mat-icon>
        </button>
      </div>
    </div>
    <div class="time-progress-container">
      <span>{{ currentState.time }}</span>
      <mat-slider
        min="0"
        [max]="currentState.duration"
        step="0.01"
        (input)="setProgress($event)"
        (click)="setProgress($event)"
        class="player-slider"
        >
        <input matSliderThumb [value]="currentState.progress">
      </mat-slider>
      <span>{{ currentState.durationTime }}</span>
    </div>
  </div>
  <div class="player__items-group flex-column-3">
    <div class="volume-container">
      <button mat-mini-fab color="basic" (click)="toggleMute()">
        <mat-icon>{{ !playerControlsState.isMute ? 'volume_up' : 'volume_off' }}</mat-icon>
      </button>
      <mat-slider min="0" max="1" step="0.01">
        <input matSliderThumb [value]="currentVolume" (input)="setVolume($event)" (click)="setVolume($event)">
      </mat-slider>
    </div>
    </div>
</div>
